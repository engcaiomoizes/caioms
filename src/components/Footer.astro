---
import { Icon } from "astro-icon/components";

import { useTranslations } from '../i18n/utils';

interface Props {
    lang: 'pt' | 'en';
}

const { lang } = Astro.props;
const t = useTranslations(lang);

const github = import.meta.env.PUBLIC_GITHUB;
const linkedin = import.meta.env.PUBLIC_LINKEDIN;
const instagram = import.meta.env.PUBLIC_INSTAGRAM;
const email = import.meta.env.PUBLIC_EMAIL;
---

<footer id="contact" class="border-t border-border/40 px-6 py-16">
    <div class="mx-auto max-w-6xl">
        <div class="grid grid-cols-1 gap-12 md:grid-cols-3">
            {/* Brand column */}
            <div class="md:col-span-1">
                <div class="mb-4 flex items-center gap-2">
                    <Icon name="lucide:terminal" class="h-4 w-4 text-primary" />
                    <span
                        class="font-mono text-sm font-semibold tracking-wider text-foreground"
                    >
                        {"Caio M. Santos"}
                    </span>
                </div>
                <p
                    class="max-w-xs text-sm leading-relaxed text-muted-foreground"
                >
                    {t("footer.description")}
                </p>
            </div>

            {/* Links column */}
            <div class="md:col-span-1">
                <h4
                    class="mb-4 font-mono text-xs uppercase tracking-widest text-muted-foreground"
                >
                    {t("footer.nav.label")}
                </h4>
                <ul class="flex flex-col gap-2">
                    {
                        [
                            { label: "About", href: "#about" },
                            { label: "Skills", href: "#skills" },
                            { label: "Projects", href: "#projects" },
                            { label: "Contact", href: "#contact" },
                            // { label: "Blog", href: "#blog" },
                        ].map((link) => (
                            <li>
                                <a
                                    href={link.href}
                                    class="text-sm text-muted-foreground transition-colors duration-300 hover:text-foreground"
                                >
                                    {link.label}
                                </a>
                            </li>
                        ))
                    }
                </ul>
            </div>

            {/* Contact column */}
            <div class="md:col-span-1">
                <h4
                    class="mb-4 font-mono text-xs uppercase tracking-widest text-muted-foreground"
                >
                    {t("footer.contact.label")}
                </h4>
                <div class="flex items-center gap-5 mb-4">
                    {github && (
                        <a
                            href={`https://github.com/${github}`}
                            target="_blank"
                            rel="noopener noreferrer"
                            class="text-muted-foreground transition-all duration-300 hover:text-foreground hover:drop-shadow-[0_0_8px_oklch(0.65_0.25_285_/_0.4)]"
                            aria-label="GitHub Profile"
                        >
                            <Icon name="lucide:github" class="h-5 w-5" />
                        </a>
                    )}
                    {linkedin && (
                        <a
                            href={`https://linkedin.com/in/${linkedin}`}
                            target="_blank"
                            rel="noopener noreferrer"
                            class="text-muted-foreground transition-all duration-300 hover:text-foreground hover:drop-shadow-[0_0_8px_oklch(0.65_0.20_250_/_0.4)]"
                            aria-label="LinkedIn Profile"
                        >
                            <Icon name="lucide:linkedin" class="h-5 w-5" />
                        </a>
                    )}
                    {instagram && (
                        <a
                            href={`https://instagram.com/${linkedin}`}
                            target="_blank"
                            rel="noopener noreferrer"
                            class="text-muted-foreground transition-all duration-300 hover:text-foreground hover:drop-shadow-[0_0_8px_oklch(0.65_0.20_250_/_0.4)]"
                            aria-label="LinkedIn Profile"
                        >
                            <Icon name="lucide:instagram" class="h-5 w-5" />
                        </a>
                    )}
                </div>
                {email && (
                    <span class="font-mono text-xs text-muted-foreground flex items-center gap-2">
                        <Icon name="lucide:mail" class="h-4 w-4" />
                        {email}
                    </span>
                )}
            </div>
        </div>

        {/* Bottom bar */}
        <div
            class="mt-16 flex flex-col items-center justify-between gap-4 border-t border-border/30 pt-8 sm:flex-row"
        >
            <p class="font-mono text-xs text-muted-foreground/60">
                {t("footer.info")}
            </p>
            <p class="font-mono text-xs text-muted-foreground/60">
                {`\u00A9 2026 ${t("footer.copyright")}`}
            </p>
        </div>
    </div>
</footer>
